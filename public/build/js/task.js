!function(){function e(e,t,n){const o=document.querySelector(".alert");o&&o.remove();const a=document.createElement("DIV");a.classList.add("alert",t),a.textContent=e,n.parentElement.insertBefore(a,n.nextElementSibling),setTimeout(()=>{a.remove()},3e3)}document.querySelector("#add-task").addEventListener("click",function(){const t=document.createElement("DIV");t.classList.add("modal"),t.innerHTML='\n        <form class="formulario new-task">\n            <legend>Agrega una nueva tarea</legend>\n            <div class="campo">\n            <label>Tarea</label>\n            <input\n                type="text"\n                name="task"\n                id="task"\n                placeholder="Agrega una tarea al proyecto actual"\n                />\n            </div>\n\n            <div class="opciones">\n                <input type="submit" value="Agregar" class="submit-new-task"/>\n                <button type="button" class="close-modal">Cancelar</button>\n            </div>\n        </form>\n        ',setTimeout(()=>{document.querySelector(".formulario").classList.add("animate")},0),t.addEventListener("click",function(n){if(n.preventDefault(),n.target.classList.contains("close-modal")){document.querySelector(".formulario").classList.add("close"),setTimeout(()=>{t.remove()},500)}n.target.classList.contains("submit-new-task")&&function(){const t=document.querySelector("#task").value.trim();if(""===t)return void e("El nombre de la tarea es obligatorio","error",document.querySelector(".formulario legend"));!async function(t){const n=new FormData;n.append("name",t),n.append("projectId",function(){const e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries()).url}());try{const t="http://localhost:3000/api/task",o=await fetch(t,{method:"POST",body:n}),a=await o.json();console.log(a),e(a.message,a.type,document.querySelector(".formulario legend")),"succes"===a.type&&setTimeout(()=>{document.querySelector(".modal").remove()},3e3)}catch(e){console.log(e)}}(t)}(),console.log(n.target)}),document.querySelector(".dashboard").appendChild(t)})}();